<!DOCTYPE html>
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% get_language_info_list for LANGUAGES as languages %}
<!-- Current language: {{ LANGUAGE_CODE }} -->
{% load staticfiles %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{% block title %}Echalo A Suerte{% endblock title %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <meta name="description" content="">

    <!--
    <link href="{% static 'css/jquery-clockpicker.min.css' %}" rel="stylesheet">
    <script src="{% static 'js/jquery-clockpicker.min.js' %}"></script>
    <script src="{% static 'js/Chart.min.js' %}"></script>
    <link href="{% static 'css/bootstrap-theme.css' %}" rel="stylesheet">

    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <script src="{% static 'js/jquery-1.11.1.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="{% static 'css/project.css' %}" rel="stylesheet">
    <script src="{% static 'js/project.js' %}"></script>
    <script>
        {% block extra_js %}{% endblock extra_js %}
        $(document).ready(function () {
            $('#language-dropdown li a').click(function () {
                $("#language-form option[value=" + $(this).attr('title') + "]").attr("selected", "selected");
                $("#change_language_but").click();
            });
            /** Raton sobre una imagen **/
            $('.img-over').each(function () {
                var imgFile = $(this).attr('src');
                var imgExt = /(\.\w{3,4}$)/;
                var preloadImage = new Image();
                preloadImage.src = imgFile.replace(imgExt, '_hover$1');
                $(this).parent().hover(
                        function () {
                            $img = $(this).children("img")
                            $img.attr('src', preloadImage.src);
                        },
                        function () {
                            $img.attr('src', imgFile);
                        });
            });

            {% block extra_jq %}{% endblock extra_jq %}
        });
    </script>
    <style>
        {% block extra_css %}{% endblock extra_css %}
    </style>

    {% block extra_head %}{% endblock extra_head %}
</head>

<body>
<div class="container">
    {% block pre-content %}
    {% endblock pre-content %}

    <div class="visible-xs no-span">
    </div>

    <!-- Showing screen size tag -->
    <div class="hidden">
        <p class="visible-xs">XS</p>

        <p class="visible-sm">SM</p>

        <p class="visible-md">MD</p>

        <p class="visible-lg">LG</p>
    </div>


    <!-- Static navbar -->
    <div class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"> Echalo A Suerte </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#">About</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                            <span class="glyphicon glyphicon-flag"></span>
                            {% trans "Language" %}
                            <span class="caret"></span>
                        </a>
                        <!-- Language dropdown menu -->
                        <ul class="dropdown-menu" role="menu">
                            {% for language in languages %}
                                <li><a href="#" title="{{ language.code }}">{{ language.name_local }}
                                    ({{ language.code }})</a></li>
                            {% endfor %}
                        </ul>
                    </li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
        <!--/.container-fluid -->
    </div>


    {% block content %}
        <p>Page to be filled.</p>
    {% endblock content %}

</div>
<!-- container -->

<!-- hidden form to change language -->
<div class="hidden">
    <form action="{% url 'set_language' %}" method="post">
        {% csrf_token %}
        <input name="next" type="hidden" value="{{ redirect_to }}"/>
        <select name="language" id="language-form">
            {% get_language_info_list for LANGUAGES as languages %}
            {% for language in languages %}
                <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %}
                        selected="selected"{% endif %}>
                    {{ language.name_local }} ({{ language.code }})
                </option>
            {% endfor %}
        </select>
        <input type="submit" value="Go" id="change_language_but"/>
    </form>
</div>
{% block extra_body %}{% endblock extra_body %}
</body>

</html>
